@import "tailwindcss";

:root {
  /* --- DYNAMIC THEME SYSTEM (LIGHT MODE) --- */

  /* Surface / Backgrounds */
  --bg-primary: #ffffff;
  /* Page background (Pure White) */
  --bg-secondary: #f8fafc;
  /* Very subtle gray for alternate sections */
  --bg-tertiary: #f1f5f9;
  /* Hover states, active items */

  --card-bg: #fafafa;
  /* Cards (Gray-50) - Matches User Preference for Contrast */
  --card-bg-hover: #f1f5f9;
  /* Card hover state */

  --input-bg: #ffffff;
  /* Inputs (White) */
  --popover-bg: #ffffff;
  /* Dropdowns/Modals */

  /* Typography */
  --text-main: #020617;
  /* Primary text (Slate-950) - Maximum Readability */
  --text-secondary: #334155;
  /* Secondary text (Slate-700) */
  --text-muted: #64748b;
  /* Muted (Slate-500) */
  --text-inverted: #ffffff;
  /* Text on colored backgrounds */

  /* Borders & Dividers */
  --border-subtle: #e2e8f0;
  /* Cosmetic dividers (Slate-200) */
  --border-strong: #d1d5db;
  /* Input borders (Gray-300) - Strong Visibility */
  --border-interactive: #94a3b8;
  /* Hover states (Slate-400) */

  /* Brand & Functional Colors */
  --primary: #4338ca;
  /* Brand Color (Indigo-700) */
  --primary-glow: rgba(67, 56, 202, 0.15);

  --status-success: #10b981;
  /* Emerald-500 */
  --status-error: #ef4444;
  /* Red-500 */
  --status-warning: #f59e0b;
  /* Amber-500 */
  --status-info: #3b82f6;
  /* Blue-500 */

  /* Legacy / Utility Mappings */
  --background: var(--bg-primary);
  --foreground: var(--text-main);
  --card-border: var(--border-strong);
  --input-border: var(--border-strong);
  --glass-border: var(--border-strong);

  /* --- SEMANTIC BADGES & STATUS (LIGHT MODE) --- */

  /* Phase: Empathize (Purple) */
  --badge-empathize-bg: #ffffff;
  --badge-empathize-border: #e9d5ff;
  /* Purple-200 */
  --badge-empathize-text: #7e22ce;
  /* Purple-700 */

  /* Phase: Define (Blue) */
  --badge-define-bg: #ffffff;
  --badge-define-border: #bfdbfe;
  /* Blue-200 */
  --badge-define-text: #1d4ed8;
  /* Blue-700 */

  /* Phase: Ideate (Yellow) */
  --badge-ideate-bg: #ffffff;
  --badge-ideate-border: #fef08a;
  /* Yellow-200 */
  --badge-ideate-text: #a16207;
  /* Yellow-700 */

  /* Phase: Prototype (Green) */
  --badge-prototype-bg: #ffffff;
  --badge-prototype-border: #bbf7d0;
  /* Green-200 */
  --badge-prototype-text: #064e3b;
  /* Emerald-900 (User Request) */

  /* Phase: Test (Indigo) */
  --badge-test-bg: #ffffff;
  --badge-test-border: #c7d2fe;
  /* Indigo-200 */
  --badge-test-text: #4338ca;
  /* Indigo-700 */

  /* Strong Status Colors */
  --text-success-strong: #14532d;
  /* Green-900 */
  --bg-success-subtle: #dcfce7;
  /* Green-100 */
  --border-success-subtle: #86efac;
  /* Green-300 */
}

[data-theme='dark'] {
  /* --- DYNAMIC THEME SYSTEM (DARK MODE) --- */

  /* Surface / Backgrounds */
  --bg-primary: #0f172a;
  /* Page background (Slate-900) */
  --bg-secondary: #1e293b;
  /* Lighter slate for logic separation */
  --bg-tertiary: #334155;
  /* Hover states */

  --card-bg: rgba(255, 255, 255, 0.05);
  /* Glassy White (5%) */
  --card-bg-hover: rgba(255, 255, 255, 0.1);

  --input-bg: rgba(0, 0, 0, 0.4);
  --popover-bg: #1e293b;

  /* Typography */
  --text-main: #f8fafc;
  /* Primary text (Slate-50) */
  --text-secondary: #cbd5e1;
  /* Secondary text (Slate-300) */
  --text-muted: #94a3b8;
  /* Muted (Slate-400) */
  --text-inverted: #0f172a;

  /* Borders & Dividers */
  --border-subtle: rgba(255, 255, 255, 0.05);
  --border-strong: rgba(255, 255, 255, 0.1);
  --border-interactive: rgba(255, 255, 255, 0.2);

  /* Brand & Functional Colors */
  --primary: #6366f1;
  /* Lighter Indigo for Dark Mode (Indigo-500) */
  --primary-glow: rgba(99, 102, 241, 0.3);

  --status-success: #34d399;
  /* Emerald-400 */
  --status-error: #f87171;
  /* Red-400 */
  --status-warning: #fbbf24;
  /* Amber-400 */
  --status-info: #60a5fa;
  /* Blue-400 */

  /* Legacy / Utility Mappings */
  --glass-border: rgba(255, 255, 255, 0.1);

  /* --- SEMANTIC BADGES & STATUS (DARK MODE) --- */

  /* Phase: Empathize (Purple) */
  --badge-empathize-bg: rgba(168, 85, 247, 0.2);
  --badge-empathize-border: rgba(168, 85, 247, 0.5);
  --badge-empathize-text: #d8b4fe;
  /* Purple-300 */

  /* Phase: Define (Blue) */
  --badge-define-bg: rgba(59, 130, 246, 0.2);
  --badge-define-border: rgba(59, 130, 246, 0.5);
  --badge-define-text: #93c5fd;
  /* Blue-300 */

  /* Phase: Ideate (Yellow) */
  --badge-ideate-bg: rgba(234, 179, 8, 0.2);
  --badge-ideate-border: rgba(234, 179, 8, 0.5);
  --badge-ideate-text: #fde047;
  /* Yellow-300 */

  /* Phase: Prototype (Green) */
  --badge-prototype-bg: rgba(34, 197, 94, 0.2);
  --badge-prototype-border: rgba(34, 197, 94, 0.5);
  --badge-prototype-text: #86efac;
  /* Green-300 */

  /* Phase: Test (Indigo) */
  --badge-test-bg: rgba(99, 102, 241, 0.2);
  --badge-test-border: rgba(99, 102, 241, 0.5);
  --badge-test-text: #a5b4fc;
  /* Indigo-300 */

  /* Strong Status Colors */
  --text-success-strong: #4ade80;
  /* Green-400 */
  --bg-success-subtle: rgba(34, 197, 94, 0.1);
  --border-success-subtle: rgba(34, 197, 94, 0.2);
}

@theme inline {
  --color-background: var(--bg-primary);
  --color-foreground: var(--text-main);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  --animate-blob: blob 7s infinite;

  @keyframes blob {
    0% {
      transform: translate(0px, 0px) scale(1);
    }

    33% {
      transform: translate(30px, -50px) scale(1.1);
    }

    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }

    100% {
      transform: translate(0px, 0px) scale(1);
    }
  }
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

/* Theme Utilities - Reinforced for Contrast */
@layer components {
  .cosmic-bg {
    @apply bg-[var(--bg-primary)] text-[var(--text-main)] transition-colors duration-300;
  }

  .glass-card {
    background-color: var(--card-bg);
    backdrop-filter: blur(12px);
    border: 1px solid var(--card-border);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    transition: all 0.3s ease;
  }

  /* Specific Override for Dark Mode Panels to keep them clean */
  [data-theme='dark'] .glass-card {
    background-color: var(--card-bg);
    border-color: var(--border-strong);
    box-shadow: none;
    /* Cleaner look in dark mode */
  }

  .glass-panel {
    background-color: var(--card-bg);
    border: 1px solid var(--border-strong);
    box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.05);
    /* Softer shadow */
    transition: all 0.3s ease;
  }

  /* Specific Override for Dark Mode Panels */
  [data-theme='dark'] .glass-panel {
    box-shadow: none;
  }

  .glass-button {
    background-color: var(--card-bg);
    border: 1px solid var(--border-strong);
    color: var(--text-main);
    backdrop-filter: blur(4px);
    transition: all 0.2s ease;
  }

  .glass-button:hover {
    background-color: var(--bg-tertiary);
    /* Use tertiary for hover */
    border-color: var(--primary);
  }

  .glass-input {
    background-color: var(--input-bg);
    border: 1px solid var(--border-strong);
    color: var(--text-main);
    transition: all 0.3s ease;
  }

  .glass-input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px var(--primary-glow);
    background-color: var(--bg-primary);
    /* Ensure absolute opacity/contrast on focus */
  }

  .glass-input::placeholder {
    color: var(--text-muted);
    opacity: 0.8;
  }

  .text-glow {
    filter: drop-shadow(0 0 10px var(--primary-glow));
  }

  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}

body {
  background: var(--bg-primary);
  color: var(--text-main);
  font-family: Arial, Helvetica, sans-serif;
  transition: background 0.3s ease, color 0.3s ease;
}

/* View Transition Animation Fixes */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}